---
marp: true
theme: gaia
paginate: true
math: katex
_class: lead
---

<!-- #REGION -->
<style>
:root {
  font-family: "Fira Sans", "Sans";
}

section {
  font-size: 32px;
}


h1, h2, h3 {
  text-align: center;
}

h1 {
  font-size: 1em;
  font-weight: normal;
  color: blue;
}

h2, h3 {
  font-size: 1em;
  font-weight: normal;
}

b, strong {
   color: blue;
   font-style: normal;
   font-weight: 500;
}

b, em {
   color: red;
   font-style: normal;
}

.columns {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 1rem;
}
</style>    
<!-- #ENDREGION -->

# **完备信息动态博弈**

## 授课教师: **雷浩然**

## 湖南大学课程

---

# 动态博弈 v.s. *同时行动博弈* (or *静态博弈*)

动态博弈:
- 行为人的行动有先后之分. 
  
一般情况下, **后动的参与人** (second-mover) 可以观察到**先动的参与人** (first-mover) 选择的行动.
  - 完美信息 (Perfect information)
  - 即使先动的行为人(张三)使用混合策略, 后动的行为人也可以看到张三最终使用的行动, 而不仅仅只是张三策略的概率分布.

---

# 完备且完美信息动态博弈
例子:
- 井字棋, 五子棋, 围棋, ...
- 麻将和扑克是动态博弈, 但它们**不是**完备信息博弈

本章的核心概念:
- **策略**, *逆向归纳*

三个例子:
- 先后行动的石头剪刀布, 饥饿的狮子, **斯塔克博格寡头模型** (古诺模型的动态版本)

---

# 例1: 先后行动的石头剪刀布

- 张三和李四玩石头剪刀布. 李四出完后, 张三再出.
- 如果你是张三, **你的策略是什么?**

---

# 例1: 先后行动的石头剪刀布

- 张三和李四玩石头剪刀布. 李四出完后, 张三再出.
- 如果你是张三, **你的策略是什么?**

答: 张三的策略是一个函数:
$$
s: A \to A
$$

函数 $s$ 是张三的策略, 它的输入是李四的行动, 输出是张三的反应.
在这个例子里, 张三的最优策略 $s^*$ 为
- $s^*(石头)=布, s^*(布)=剪刀, s^*(剪刀)=石头.$

---

# 从行动到策略

- 在前一章节的完备信息同时行动博弈中, **行动**和**策略**这两个概念没有区别.
  - 张三的策略 (或行动) 一般是行动集 $A$ 中的某个元素, 或定义在
    $A$ 上的某个概率分布.

- 对于本章的动态博弈, 我们需要严格区分**行动**和**策略**.
  - 行动仍然是 $A$ 中的某个元素或某个概率分布
  - 但是, 后手参与人的策略应该表示为一个函数. 这个函数描述了当先手采取某个行动时, 后手参与人使用的行动.

---

# 先后行动的石头剪刀布: 数纯策略

- 如果对于所有李四的行动, 张三的行动都是**非随机的**. 我们就称张三的策略为**纯策略**. 否则, 就是**混合策略**.


问: 先后行动的石头剪刀布博弈中, 后手张三有几个纯策略?

---

# 先后行动的石头剪刀布: 数纯策略

- 如果对于所有李四的行动, 张三的行动都是**非随机的**. 我们就称张三的策略为**纯策略**. 否则, 就是**混合策略**.


问: 先后行动的石头剪刀布博弈中, 后手张三有几个纯策略?

$$
3 \times 3 \times 3 = 27
$$

---

# 例2: 饥饿的狮子

狮群里有 $n=2$ 只狮子: $N = \{1,2\}$.
- 假设1号狮子最强壮, 其次是2号狮子.

张三不幸落入狮群之口.
最强壮的狮子具有优先进食的权力. 
但是, 每只狮子进食后会变得十分虚弱, 可能会被其它狮子吃掉.

问: 如果你是2号狮子, 你的策略是什么?
如果你是1号狮子, 你会吃掉张三么?

---

# 例2: 饥饿的狮子

狮群里有 $n=2$ 只狮子: $N = \{1,2\}$.
- 假设1号狮子最强壮, 其次是2号狮子.

张三不幸落入狮群之口.
最强壮的狮子具有优先进食的权力. 
但是, 每只狮子进食后会变得十分虚弱, 可能会被其它狮子吃掉.

问: 如果你是2号狮子, 你的策略是什么?
如果你是1号狮子, 你会吃掉张三么?

**如果狮群有三只狮子:
$N = \{1,2,3\}$, 1号狮子会选择吃掉张三么?
其它狮子的策略是什么?**

---

# 逆向归纳

1. **如果有 2 只狮子**, 张三不会被吃掉.
   - 1号狮子如果吃了张三, 它会变得虚弱并被2号狮子吃掉.

1. **如果有 3 只狮子**, 张三是否会被 1 号狮子吃掉?
   - 如果1号狮子吃掉张三, 它可能被2号狮子吃掉.
   - 但是, 如果2号狮子吃了1号狮子, 2 号狮子也会变得虚弱,
     并被3号狮子吃掉.
   - 因此, 即使1号狮子吃掉张三, 2号狮子也不会吃1号狮子.
   - *张三会被1号狮子吃掉*.  

1. **如果有 4 只狮子**, 张三是否会被 1 号狮子吃掉?
   -  ...

---

由逆向归纳可知:
- 如果狮子数目 $n$ 为偶数, 张三不会被吃掉. 否则, 张三会被吃掉.


逆向归纳法的特点:
- "以终为始". 
  - 先分析博弈最后阶段(2只狮子)的可能结果, 然后再倒推3只狮子, 4只狮子, ..., $n$ 只狮子的情形.

- 要求"*所有参与人是理性的*"是共同知识 (**类似重复剔除法**)
  - **问:** 如果你是1号狮子, 狮群一共有 $n=11$ 只狮子, 你会吃掉张三吗?
  - **答:** 你很可能不会, 因为 2 号狮子不一定学过逆向归纳法.  

---

# 例3: 斯塔克博格寡头模型

复习:
- 考虑两家企业 (张三钢铁厂和李四钢铁厂) **同时定产**的古诺模型. 假设企业成本均为$0$,
  需求函数为 $P(Q) = 1 - Q$, 其中 $Q$ 为总产量.
- 最优反应函数:
  - $q^*_1 (q_2) = (1 - q_2) /2$, 
  - $q^*_2 (q_1) = (1 - q_1) /2$
- 均衡时, 两家企业的产量互为最优反应: $\bar q_1 = \bar q_2 = 1/3$.

---

# 例3: 斯塔克博格寡头模型

复习:
- 考虑两家企业 (张三钢铁厂和李四钢铁厂) **同时定产**的古诺模型. 假设企业成本均为$0$,
  需求函数为 $P(Q) = 1 - Q$, 其中 $Q$ 为总产量.
- 最优反应函数:
  - $q^*_1 (q_2) = (1 - q_2) /2$, 
  - $q^*_2 (q_1) = (1 - q_1) /2$
- 均衡时, 两家企业的产量互为最优反应: $\bar q_1 = \bar q_2 = 1/3$.


**问:** 如果模型设定从**同时行动**, 变为"**张三先动, 李四后动**", 均衡结果会如何变化? (提示: 逆向归纳法)

---

- 由于李四在观察到张三的产量 $q_1$ 后才行动, 他的策略应表示为函数 $q_2(q_1)$. 
- 李四的最优策略就是他在古诺模型中的最优反应函数:
$$
q^*_2 (q_1) = (1 - q_1) /2
$$

**如何进一步分析张三的策略?**

---

- 由于李四在观察到张三的产量 $q_1$ 后才行动, 他的策略应表示为函数 $q_2(q_1)$. 
- 李四的最优策略就是他在古诺模型中的最优反应函数:
$$
q^*_2 (q_1) = (1 - q_1) /2
$$

张三知道李四的策略为 $q^*_2 (q_1)$, 因此他会求解如下最优化问题:
$$
\max_{q_1} P(Q) q_1 = (1 - q_1 - q^*_2 (q_1)) q_1
$$


---

- 由于李四在观察到张三的产量 $q_1$ 后才行动, 他的策略应表示为函数 $q_2(q_1)$. 
- 李四的最优策略就是他在古诺模型中的最优反应函数:
$$
q^*_2 (q_1) = (1 - q_1) /2
$$

张三知道李四的策略为 $q^*_2 (q_1)$, 因此他会求解如下最优化问题:
$$
\max_{q_1} P(Q) q_1 = (1 - q_1 - q^*_2 (q_1)) q_1 \qquad (*)
$$

代入 $q^*_2 (q_1) = (1 - q_1) /2$, 
最优化问题 $(*)$ 的解为 $q_1^* = 1/2$.

---

# 斯塔克博格寡头模型: *均衡*与*均衡结果*

- 企业先后定产的斯塔克博格寡头模型中, 由逆向归纳法求得的*均衡*:
$$
q^*_1 = 1/2, \quad q^*_2 (q_1) = (1 - q_1) /2.
$$

- 这个博弈的*均衡结果*: 
  - 张三定产 $q^*_1 = 1/2$, 李四定产
  $q_2^* (1/2) =  1/4$.

注: 
- **均衡**永远都应该表示为参与人的**策略组合**, 这里后手李四的策略是一个函数, 先手张三的策略是某个确定的产量.
- **均衡结果**表示的是均衡中参与人选择的行动. 在这个博弈中, 
  均衡结果为张三和李四的最终产量.

---

# 斯塔克博格模型 vs 古诺模型

- 模型设定方面: 斯塔克博格模型和古诺模型只有一个区别:
  - 斯塔克博格模型中的企业**先后定产**,  古诺模型中的企业**同时定产**

- 古诺模型中, 每个企业的均衡产量相同. 但斯塔克博格模型中的先手有优势:
  - 先手张三的均衡产量比后手李四高, 张三的均衡利润也更高
  - 这个现象被称为*先手优势* (*first-mover advantage*)

- 斯塔克博格模型中的先手常被称为 "*产量领导者*".
  - 即使张三和李四生产的是完全同质化的商品, 张三作为产量领导者, 也可以获得更高的利润.
  - 现实例子: 苹果公司率先制造智能手机和平板电脑. 即使后发的企业在产品质量上很接近, 但只要苹果可以不断创新, 就可以持续保持*先手优势*.


---

# 斯塔克博格模型的启示: 信息更多未必有利

- 张三钢铁厂和李四钢铁厂彼此竞争. 假设两家企业的成本和产品均相同,
  可以用**古诺模型**来分析均衡结果. 
- 李四为了窃取商业情报, 安插*间谍*进入张三的公司.
- 张三佯装不知, 将自己的生产计划悉数透露给间谍, *间谍*随后汇报给李四.
- **问:** 如果你是张三, 你会把产量定在多少? 还是**古诺均衡**的产量么?

---

# 斯塔克博格模型的启示: 信息更多未必有利

- 张三钢铁厂和李四钢铁厂彼此竞争. 假设两家企业的成本和产品均相同,
  可以用**古诺模型**来分析均衡结果. 
- 李四为了窃取商业情报, 安插*间谍*进入张三的公司.
- 张三佯装不知, 将自己的生产计划悉数透露给间谍, *间谍*随后汇报给李四.
- **问:** 如果你是张三, 你会把产量定在多少? 还是**古诺均衡**的产量么?
- 张三应该把产量定为**斯塔克博格均衡**的产量. 因为间谍的存在, 张三成了
  "产量领导者". *虽然李四此时掌握了更多的信息, 但他的均衡福利反而变差了.*

---

# 逆向归纳法求解两阶段博弈

- 斯塔克博格模型是非常标准的**两阶段博弈** (two-stage game). 
  我们可以用*逆向归纳法*来求解这类博弈的均衡:
  - 先计算**第二阶段**中博弈可能的均衡结果. (例: 我们先计算后手李四钢铁厂的定产策略)
  - 根据第二阶段的均衡结果, 反推第一阶段的均衡结果. (例: 我们根据李四的定产策略去反推先手张三的最优产量)

- 对于初学者, 逆向归纳法的描述可能看起来比较抽象.
  下一讲中, 我们用一些经典的两阶段博弈例子来进一步学习逆向归纳法的使用.